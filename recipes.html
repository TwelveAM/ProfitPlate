<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Recipes â€“ ProfitPlate</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="assets/styles.css" />
  <link rel="icon" type="image/svg+xml" href="assets/favicon.svg" />
</head>

<body>
  <div id="site-header"></div>

  <div class="page">
    <div class="page-header">
      <div>
        <h1>Recipes</h1>
        <p class="text-muted">Manage your menu, costs, and margins.</p>
      </div>
      <div class="header-actions">
        <button type="button" class="btn-primary" onclick="showRecipeForm()">
          + Add Recipe
        </button>
      </div>
    </div>

    <div class="toolbar">
      <div class="search-wrapper">
        <input
          id="recipe-search"
          type="text"
          class="form-input"
          placeholder="Search recipes..."
        />
      </div>
      
      <label class="toggle-switch">
        <input type="checkbox" id="show-archived-toggle">
        <span class="toggle-slider"></span>
        <span class="toggle-label">Show Archived</span>
      </label>
    </div>

    <div id="recipe-form-wrapper" class="settings-box hidden" style="margin-bottom: 30px; border-left: 4px solid #0b6e46;">
      <h2 id="recipe-form-title" class="section-title">Add Recipe</h2>
      <p class="text-muted small">
        Define the batch size and ingredients. Costs are calculated automatically.
      </p>

      <form id="recipe-form">
        <input type="hidden" id="recipe-id" />

        <div class="grid-2">
          <div>
            <label class="settings-label">Recipe Name</label>
            <input id="recipe-name" type="text" class="form-input" placeholder="e.g. Tiramisu" />
          </div>
          <div>
            <label class="settings-label">Portions per Batch</label>
            <input id="recipe-portions" type="number" min="1" class="form-input" placeholder="e.g. 10" />
          </div>
        </div>

        <div style="margin-top: 15px;">
          <label class="settings-label">Selling Price per Portion (Optional)</label>
          <input id="recipe-price" type="number" min="0" step="0.01" class="form-input" placeholder="0.00" />
        </div>

        <hr />

        <h3 class="section-title" style="font-size:16px;">Ingredients</h3>
        <div id="ingredients-container"></div>

        <div style="margin-top:10px; margin-bottom: 20px;">
          <button type="button" class="btn-secondary small" onclick="addIngredientRow()">
            + Add Ingredient
          </button>
        </div>

        <div class="form-actions">
          <button type="button" class="btn-secondary" onclick="hideRecipeForm()">Cancel</button>
          <button type="submit" class="btn-primary">Save Recipe</button>
        </div>
      </form>
    </div>

    <div id="recipes-list" class="recipe-grid"></div>
  </div>

  <script src="assets/header.js"></script>
  <script>renderHeader('recipes');</script>
  <script src="assets/app.js"></script>
  <script src="assets/recipes.js"></script>
</body>
</html>
