<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Recipes ‚Äì ProfitPlate</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta
    name="description"
    content="See cost per portion and profit margin for each dish on your menu."
  />

  <!-- Shared rounded inputs/buttons/recipe styles -->
  <link rel="stylesheet" href="assets/styles.css" />
</head>

<body>
  <header>
    <div class="header-inner" style="max-width:960px;margin:0 auto;padding:12px 20px 10px;">
      <!-- Banner -->
      <div
        class="hero-banner"
        style="
          width:630px;
          max-width:100%;
          height:130px;
          margin:4px auto 16px;
          border-radius:14px;
          background:linear-gradient(135deg,#0b5d3f,#06412a);
          display:flex;
          align-items:center;
          justify-content:space-between;
          padding:0 32px;
          color:#fff;
          box-shadow:0 10px 24px rgba(0,0,0,.16);
        "
      >
        <div class="hero-icons" style="font-size:42px;opacity:.9;">‚öñÔ∏è</div>
        <div class="hero-title-block" style="text-align:center;flex:1;margin:0 24px;">
          <div class="hero-title" style="font-size:32px;font-weight:700;letter-spacing:.04em;text-transform:uppercase;">
            PROFITPLATE
          </div>
          <div class="hero-subtitle" style="margin-top:6px;font-size:16px;font-weight:400;">
            Know your profit per plate.
          </div>
        </div>
        <div class="hero-icons" style="font-size:42px;opacity:.9;">ü•©</div>
      </div>

      <!-- Nav -->
      <nav style="margin-top:6px;margin-bottom:6px;">
        <ul
          class="nav-list"
          style="
            list-style:none;
            padding:0;
            margin:0;
            display:flex;
            gap:32px;
            align-items:center;
            justify-content:center;
          "
        >
          <li><a class="nav-link" href="index.html">Home</a></li>
          <li><a class="nav-link" href="purchases.html">Purchases</a></li>
          <li><a class="nav-link active" href="recipes.html"
            style="
              text-decoration:none;
              font-size:14px;
              color:#fff;
              padding:6px 12px;
              border-radius:999px;
              background:#0b5d3f;
              font-weight:500;
            "
          >Recipes</a></li>
          <li><a class="nav-link" href="settings.html">Settings</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <div class="page" style="max-width:960px;margin:0 auto;padding:16px 20px 40px;">
    <h1>Recipes</h1>
    <p style="font-size:14px;color:#555;max-width:720px;">
      See cost per portion and profit margin for each dish on your menu. Adjust selling price and
      keep an eye on how ingredient changes in Purchases affect your bottom line.
    </p>

    <!-- Top buttons -->
    <div style="margin-top:20px;">
      <button type="button" class="btn btn-primary" onclick="showRecipeForm()">Add recipe</button>
      <button type="button" class="btn btn-secondary">Export all to PDF (future)</button>
    </div>

    <hr style="margin-top:20px;" />

    <!-- Add / Edit recipe form -->
    <div id="recipe-form-wrapper" class="hidden" style="margin-top:20px;">
      <div class="settings-box recipe-form-card">
        <h2 id="recipe-form-title" class="section-title">Add a new recipe</h2>

        <p style="margin-bottom:18px;font-size:14px;color:#555;">
          Give the recipe a name, set how many portions it makes, then add ingredients from your Purchases.
          ProfitPlate will calculate cost per portion automatically.
        </p>

        <form id="recipe-form">
          <input type="hidden" id="recipe-id" />

          <div class="recipe-form-row" style="display:flex;gap:12px;margin-bottom:14px;">
            <div style="flex:1;">
              <label for="recipe-name" class="settings-label">Recipe name</label>
              <input id="recipe-name" type="text" placeholder="e.g. Pasta Carbonara" />
            </div>
          </div>

          <div class="recipe-form-row" style="display:flex;gap:12px;margin-bottom:14px;">
            <div style="flex:1;">
              <label for="recipe-portions" class="settings-label">Portions per batch</label>
              <input id="recipe-portions" type="number" placeholder="e.g. 10" />
            </div>
            <div style="flex:1;">
              <label for="recipe-price" class="settings-label">Selling price per portion (optional)</label>
              <input id="recipe-price" type="number" step="0.01" placeholder="e.g. 12.50" />
            </div>
          </div>

          <hr />

          <h2 class="section-title" style="font-size:18px;margin-top:6px;">Ingredients</h2>
          <p style="margin-bottom:12px;font-size:14px;color:#555;">
            Choose items from your Purchases list, set the quantity and unit actually used in this recipe.
            ProfitPlate will use the latest purchase price (or snapshots) to compute the cost.
          </p>

          <div id="ingredients-container"></div>

          <button type="button" class="btn btn-secondary" style="margin-top:20px;" onclick="addIngredientRow()">
            + Add ingredient
          </button>

          <div style="display:flex;justify-content:flex-end;gap:10px;margin-top:18px;">
            <button type="button" class="btn btn-secondary" onclick="hideRecipeForm()">Cancel</button>
            <button type="submit" class="btn btn-primary">Save recipe</button>
          </div>
        </form>
      </div>
    </div>

    <hr style="margin-top:20px;" />

    <!-- Menu overview / recipe list -->
    <h2>Menu overview</h2>
    <p style="font-size:14px;color:#555;max-width:760px;">
      Recipe data is stored locally in your browser using ProfitPlate's tiny brain.
      Changing ingredient prices in Purchases will change costs here the next time you open the page,
      unless you turn off auto-recalculation in Settings.
    </p>

    <div id="recipes-list" style="margin-top:20px;">
      <!-- Filled by recipes.js -->
    </div>
  </div>

  <!-- app.js provides ppStore + shared helpers -->
  <script src="assets/app.js"></script>
  <!-- recipes.js handles Recipes page logic using ppStore -->
  <script src="assets/recipes.js?v=3"></script>
</body>
</html>
